{"version":3,"sources":["utils/Api.js","images/header-logo.svg","components/Header.js","context/currentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/PopupAvatar.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/Auth.js","components/Footer.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","components/App.js","index.js"],"names":["api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","response","_getResponseData","text","body","JSON","stringify","id","isLiked","authorization","Header","userEmail","history","useHistory","className","src","logo","alt","path","to","exact","style","marginLeft","marginRight","onClick","localStorage","removeItem","push","color","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","like","likes","currentUser","React","useContext","cardDeleteButtonClassName","owner","_id","type","some","item","cardLikeButtonClassName","link","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","title","buttonText","children","action","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","value","onChange","target","autoComplete","minLength","maxLength","required","AddPlacePopup","setLink","PopupAvatar","onUpdateAvatar","urlRef","useRef","current","ref","Register","registrtion","isInfoTooltipOpen","onPost","email","setEmail","password","setPassword","isVisiblePassword","setisVisiblePassword","noValidate","textAlign","href","Login","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","getResponseData","Footer","InfoTooltip","isSuccess","textSuccess","textFail","success","fail","paddingTop","padding","marginBottom","marginTop","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","setisInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setUserEmail","setIsSuccess","closeAllPopups","closeByEscape","key","document","addEventListener","removeEventListener","all","getListCard","getUserInfo","userData","catch","err","console","log","token","getItem","Authorization","data","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","Auth","setItem","patchAvatar","patchUserInfo","postCard","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d5e8304c.chunk.js","sourcesContent":["export class Api {\n  constructor(options) {\n    this._url = options.url;\n    this._headers = options.headers;\n  }\n  // метод обработки ответа сервера\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  // получить список всех карточек в виде массива (GET)\n  getListCard() {\n    return fetch(this._url + \"/cards\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((response) => {\n      return this._getResponseData(response);\n    });\n  }\n\n  // добавить карточку (POST)\n  postCard(text) {\n    return fetch(this._url + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(text),\n    }).then((response) => {\n      return this._getResponseData(response);\n    });\n  }\n  // удалить карточку (DELETE)\n  deleteCard(id) {\n    return fetch(this._url + \"/cards/\" + id, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then((response) => {\n      return this._getResponseData(response);\n    });\n  }\n  // получить данные пользователя (GET)\n  getUserInfo() {\n    return fetch(this._url + \"/users/me\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((response) => {\n      return this._getResponseData(response);\n    });\n  }\n\n  // заменить данные пользователя (PATCH)\n  patchUserInfo(text) {\n    return fetch(this._url + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(text),\n    }).then((response) => {\n      return this._getResponseData(response);\n    });\n  }\n  // заменить аватар (PATCH)\n  patchAvatar(url) {\n    return fetch(this._url + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(url),\n    }).then((response) => {\n      return this._getResponseData(response);\n    });\n  }\n\n  // “изменить” статус лайка (PUT/DELETE)\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(this._url + \"/cards/likes/\" + id, {\n      method: isLiked ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then((response) => {\n      return this._getResponseData(response);\n    });\n  }\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-26\",\n  headers: {\n    authorization: \"16600085-655d-47fe-aa20-66da64ea85b3\",\n    \"Content-type\": \"application/json\",\n  },\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/header-logo.5f3664ca.svg\";","import logo from \"../images/header-logo.svg\";\r\nimport { Route, Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Header({ userEmail }) {\r\n  const history = useHistory();\r\n\r\n  function signOut() {\r\n    localStorage.removeItem(\"token\");\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} className=\"header__logo\" alt=\"Логотип 'Mesto Russia'\" />\r\n      <Route path=\"/sign-in\">\r\n        <Link className=\"header__link link-opacity\" to=\"/sign-up\">\r\n          Регистрация\r\n        </Link>\r\n      </Route>\r\n\r\n      <Route path=\"/sign-up\">\r\n        <Link className=\"header__link link-opacity\" to=\"/sign-in\">\r\n          Войти\r\n        </Link>\r\n      </Route>\r\n\r\n      <Route exact path=\"/\">\r\n        <h2 className=\"header__link\" style={{ marginLeft: \"auto\", marginRight: \"24px\" }}>\r\n          {userEmail}\r\n        </h2>\r\n        <Link className=\"header__link link-opacity\" onClick={signOut} style={{ color: \"#A9A9A9\" }} to=\"/sign-in\">\r\n          Выйти\r\n        </Link>\r\n      </Route>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import { createContext } from \"react\";\n\nexport const CurrentUserContext = createContext();\n","import React from \"react\";\nimport { CurrentUserContext } from \"../context/currentUserContext\";\n\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const like = card.likes;\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = isOwn ? (\n    <button type=\"button\" className=\"elements__trash-button link-opacity\" onClick={handleDeleteClick}></button>\n  ) : (\n    \"\"\n  );\n  const isLiked = card.likes.some((item) => item._id === currentUser._id);\n  const cardLikeButtonClassName = `${isLiked ? \"elements__heart_active\" : \"elements__heart\"} link-opacity`;\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleClick() {\n    onCardClick(card);\n  }\n  return (\n    <li className=\"card-template\">\n      <div className=\"elements__card\">\n        {cardDeleteButtonClassName}\n        <img src={card.link} onClick={handleClick} className=\"elements__photo\" alt={card.name} />\n        <div className=\"elements__footer\">\n          <h2 className=\"elements__title\">{card.name}</h2>\n          <div>\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n            <h2 className=\"elements__amount\">{like.length}</h2>\n          </div>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../context/currentUserContext\";\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar profile__avatar-opacity\">\n          <img\n            src={currentUser.avatar}\n            className=\"profile__icon profile__avatar-opacity\"\n            alt=\"Аватарка\"\n          />\n          <button\n            type=\"button\"\n            className=\"profile__edit-avatar-button profile__pencil profile__avatar-opacity\"\n            alt=\"Аватарка\"\n            onClick={onEditAvatar}\n          ></button>\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\n          <button\n            type=\"button\"\n            className=\"profile__edit-button link-opacity\"\n            onClick={onEditProfile}\n          ></button>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button link-opacity\"\n          onClick={onAddPlace}\n        ></button>\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"elements__cards\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={onCardClick}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","function ImagePopup({ card, onClose }) {\n  return (\n    <section className={`popup image ${card.link ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__img-container\">\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть попап новой карточки\"\n          onClick={onClose}\n          className=\"popup__close-button link-opacity\"\n        ></button>\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <h2 className=\"popup__subtitle\">{card.name}</h2>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","function PopupWithForm({\n  isOpen,\n  onClose,\n  onSubmit,\n  title,\n  name,\n  buttonText,\n  children,\n}) {\n  return (\n    <section className={`popup ${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          aria-label=\"Закрыть попап редактирования профиля\"\n          className=\"popup__close-button link-opacity\"\n          onClick={onClose}\n        ></button>\n        <h2 className=\"popup__title\">{title}</h2>\n\n        <form\n          name={`${name}-form`}\n          action=\"#\"\n          className=\"popup__form\"\n          onSubmit={onSubmit}\n        >\n          {children}\n          <button\n            type=\"submit\"\n            className=\"popup__save-button link-opacity save-profile\"\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React, { useState, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../context/currentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [isOpen, currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Редактировать профиль\"\n      name=\"edit\"\n      buttonText=\"Сохранить\"\n      children\n    >\n      <input\n        id=\"name-input\"\n        className=\"popup__input\"\n        name=\"name\"\n        type=\"text\"\n        placeholder={\"Имя\"}\n        value={name || \"\"}\n        onChange={handleNameChange}\n        autoComplete=\"off\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n      />\n      <span className=\"name-input-error popup__input-error\"></span>\n      <input\n        id=\"job-input\"\n        name=\"about\"\n        type=\"text\"\n        placeholder={\"О себе\"}\n        value={description || \"\"}\n        onChange={handleDescriptionChange}\n        className=\"popup__input\"\n        autoComplete=\"off\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n      <span className=\"job-input-error popup__input-error\"></span>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [isOpen]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({ name, link });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Новое место\"\n      name=\"add\"\n      buttonText=\"Создать\"\n      children\n    >\n      <input\n        id=\"place\"\n        name=\"form-place\"\n        type=\"text\"\n        placeholder=\"Название\"\n        value={name}\n        onChange={handleNameChange}\n        className=\"popup__input\"\n        autoComplete=\"off\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span className=\"place-error popup__input-error\"></span>\n      <input\n        id=\"link\"\n        name=\"form-resource\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        value={link}\n        onChange={handleLinkChange}\n        className=\"popup__input\"\n        autoComplete=\"off\"\n        required\n      />\n      <span className=\"link-error popup__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React, { useEffect, useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction PopupAvatar({ isOpen, onClose, onUpdateAvatar }) {\n  const urlRef = useRef(\"\");\n\n  useEffect(() => {\n    urlRef.current.value = \"\";\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar(urlRef.current.value);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      title=\"Обновить аватар\"\n      name=\"avatar\"\n      buttonText=\"Сохранить\"\n      children\n    >\n      <input\n        id=\"avatarLink\"\n        name=\"form-resource\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        ref={urlRef}\n        className=\"popup__input\"\n        autoComplete=\"off\"\n        required\n      />\n      <span className=\"avatarLink-error popup__input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default PopupAvatar;\n","//Авторизация\nimport React, { useState } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nfunction Register({ registrtion, isInfoTooltipOpen, onPost, onClose }) {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [isVisiblePassword, setisVisiblePassword] = useState(\"password\");\n\n  function handleVisibleChange() {\n    setisVisiblePassword(\n      isVisiblePassword === \"password\" ? \"text\" : \"password\"\n    );\n  }\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    registrtion(email, password)\n         setEmail(\"\");                 \n         setPassword(\"\");           \n\n  }\n\n  return (\n\n      <section className=\"authorization\">\n        <h2 className=\"authorization__title\">Регистрация</h2>\n\n        <form\n          name=\"\"\n          action=\"#\"\n          className=\"authorization__form\"\n          onSubmit={handleSubmit}\n          noValidate\n        >\n          <input\n            id=\"email\"\n            className=\"authorization__input\"\n            name=\"email\"\n            type=\"text\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={handleEmailChange}\n            autoComplete=\"off\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            required\n          />\n\n          <input\n            id=\"password\"\n            name=\"password\"\n            type={isVisiblePassword}\n            placeholder=\"Пароль\"\n            value={password}\n            onChange={handlePasswordChange}\n            className=\"authorization__input\"\n            autoComplete=\"off\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n          />\n          <h2\n            className=\"authorization__registered link-opacity\"\n            style={{ textAlign: \"center\" }}\n            onClick={handleVisibleChange}\n          >\n            Показать пароль\n          </h2>\n\n          <button\n            type=\"submit\"\n            className=\"authorization__button link-opacity save-profile\"\n          >\n            Зарегистрироваться\n          </button>\n        </form>\n        <Link to=\"/sign-in\" className=\"authorization__registered\" href=\"#\">\n          Уже зарегистрированы? Войти\n        </Link>\n      </section>\n  )}\n  export default Register;\n\n","import React, { useState } from \"react\";\r\n\r\nfunction Login({ authorization }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isVisiblePassword, setisVisiblePassword] = useState(\"password\");\r\n\r\n  function handleVisibleChange() {\r\n    setisVisiblePassword(\r\n      isVisiblePassword === \"password\" ? \"text\" : \"password\"\r\n    );\r\n  }\r\n\r\n  function handleEmailChange(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handlePasswordChange(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    authorization(email, password);\r\n\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section className=\"authorization\">\r\n        <h2 className=\"authorization__title\">Вход</h2>\r\n\r\n      <form\r\n        name=\"\"\r\n        action=\"#\"\r\n        className=\"authorization__form\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <input\r\n          id=\"email\"\r\n          className=\"authorization__input\"\r\n          name=\"email\"\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={handleEmailChange}\r\n          autoComplete=\"off\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n        />\r\n\r\n        <input\r\n          id=\"password\"\r\n          name=\"password\"\r\n          type={isVisiblePassword}\r\n          placeholder=\"Пароль\"\r\n          value={password}\r\n          onChange={handlePasswordChange}\r\n          className=\"authorization__input\"\r\n          autoComplete=\"off\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n        />\r\n        <h2\r\n          className=\"authorization__registered link-opacity\"\r\n          style={{ textAlign: \"center\" }}\r\n          onClick={handleVisibleChange}\r\n        >\r\n          Показать пароль\r\n        </h2>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"authorization__button link-opacity save-profile\"\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n    </>\r\n  );\r\n}\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\nexport default ProtectedRoute;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\n// метод обработки ответа сервера\nfunction getResponseData(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      password,\n      email,\n    }),\n  })\n    .then((response) => {\n      return getResponseData(response);\n    })\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      password,\n      email,\n    }),\n  })\n    .then((response) => {\n      return getResponseData(response);\n    })\n    .then((data) => {\n      return data;\n    });\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      return getResponseData(response);\n    })\n    .then((res) => {\n      if (res) {\n        return res;\n      }\n    });\n};\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021. Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/success.bd528945.svg\";","export default __webpack_public_path__ + \"static/media/fail.064903fa.svg\";","import React from \"react\";\r\nimport success from \"../images/success.svg\";\r\nimport fail from \"../images/fail.svg\";\r\n\r\nfunction InfoTooltip({ isInfoTooltipOpen, isSuccess, onClose }) {\r\n  const textSuccess = \"Вы успешно зарегистрировались!\";\r\n  const textFail = \"Что-то пошло не так! Попробуйте ещё раз.\";\r\n  return (\r\n    <section className={`popup ${isInfoTooltipOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Закрыть попап редактирования профиля\"\r\n          className=\"popup__close-button link-opacity\"\r\n          onClick={onClose}\r\n        ></button>\r\n        <img\r\n          src={isSuccess ? success : fail}\r\n          style={{ paddingTop: 60 }}\r\n          alt={isSuccess ? textSuccess : textFail}\r\n        />\r\n        <h2\r\n          className=\"popup__title\"\r\n          style={{\r\n            textAlign: \"center\",\r\n            padding: 0,\r\n            marginLeft: 0,\r\n            marginBottom: 60,\r\n            marginTop: 32,\r\n          }}\r\n        >\r\n          {isSuccess ? textSuccess : textFail}\r\n        </h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport api from \"../utils/Api\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport PopupAvatar from \"./PopupAvatar\";\r\nimport { CurrentUserContext } from \"../context/currentUserContext\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport * as Auth from \"../utils/Auth\";\r\nimport Footer from \"./Footer\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setisInfoTooltipOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [userEmail, setUserEmail] = useState(\"\");\r\n  const history = useHistory();\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n\r\n  // Закрытие попапов по нажатию Escape\r\n  useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", closeByEscape);\r\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\r\n  }, []);\r\n\r\n  // Получаем набор карточек и информацию о пользователе\r\n  useEffect(() => {\r\n    Promise.all([api.getListCard(), api.getUserInfo()])\r\n      .then(([cards, userData]) => {\r\n        setCards(cards);\r\n        setCurrentUser(userData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  // Проверяем авторизацию на сайте\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      Auth.getContent(localStorage.token)\r\n        .then((data) => {\r\n          setUserEmail(data.data.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [history]);\r\n\r\n  // Запрос к АПИ на регистрацию\r\n  function registrtion(email, password) {\r\n    Auth.register(email, password)\r\n      .then(() => {\r\n        setisInfoTooltipOpen(true);\r\n        setIsSuccess(true);\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch(() => {\r\n        setisInfoTooltipOpen(true);\r\n        setIsSuccess(false);\r\n      });\r\n  }\r\n\r\n  // Запрос к АПИ на авторизацию\r\n  function authorization(email, password) {\r\n    Auth.authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"token\", data.token);\r\n          setUserEmail(email);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch(() => {\r\n        setisInfoTooltipOpen(true);\r\n        setIsSuccess(false);\r\n      });\r\n  }\r\n\r\n  // Добавление лайка\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Удаление карточки\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter((item) => (item._id === card._id ? null : item)));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Изменение профайла\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .patchUserInfo({ name, about })\r\n      .then((response) => {\r\n        setCurrentUser(response);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Изменение аватара\r\n  function handleUpdateAvatar(url) {\r\n    const data = { avatar: url };\r\n    api\r\n      .patchAvatar(data)\r\n      .then((response) => {\r\n        setCurrentUser(response);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  // Добавление карточки\r\n  function handleAddPlaceSubmit(data) {\r\n    api\r\n      .postCard(data)\r\n      .then((response) => {\r\n        setCards([response, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setisInfoTooltipOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <div className=\"root\">\r\n          <Header userEmail={userEmail} />\r\n\r\n          <Switch>\r\n            <ProtectedRoute\r\n              component={Main}\r\n              exact\r\n              path=\"/\"\r\n              loggedIn={loggedIn}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            ></ProtectedRoute>\r\n\r\n            <Route path=\"/sign-up\">\r\n              <Register registrtion={registrtion} onClose={closeAllPopups} />\r\n            </Route>\r\n\r\n            <Route path=\"/sign-in\">\r\n              <Login authorization={authorization} onClose={closeAllPopups} />\r\n            </Route>\r\n          </Switch>\r\n          <Footer />\r\n          <PopupAvatar\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n          <InfoTooltip\r\n            isInfoTooltipOpen={isInfoTooltipOpen}\r\n            isSuccess={isSuccess}\r\n            onClose={closeAllPopups}\r\n          />\r\n        </div>\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}